# aiogram-webhook
## В этом репозитории представлен простой echo бот (с командой /m и echo стикеров) с технологией webhook-ов.

Для работы этого бота, да и как в целом для работы webhook-ов на [__`aiogram`__](https://github.com/aiogram), нам 
необходимо скачать [__`ngrok`__](https://ngrok.com/) для своего пк или vps. После заходим через __`Windows PowerShell`__ в 
папку с установленным файлом (Напишите в  __`Windows PowerShell`__ это: __`set-location 'путь к папке'`__), 
получаем [__`authtoken`__](https://dashboard.ngrok.com/get-started/your-authtoken) на сайте после пишем: 
```
chmod +x ngrok
./ngrok authtoken (Ваш токен). 
```
#### Дальше после введения кода аутентификации мы должны запустить ngrok, пишем:
```
./ngrok http (port).
 ```
Порт выбирайте на свое усмотрение, но для работы бота я использовал __`8080`-ый__ порт. 
Потом нам выведет окно с запущенным __`ngrok`__, там мы выбираем первую ссылку после строки __`Forwarding`__ 
она выглядит как-то так: __`https://6ec8-78-37-108-80.ngrok-free.app`__. 
После если вы захотите запустить этого бота, то поменяйте параметр __`YOUR_TELEGRAM_API_TOKEN`__ на ваш __`api`__,
получить его можно через бота [__`@BotFather`__](https://t.me/BotFather), и поменяйте параметр __`YOUR_USER_ID`__ на ваш __`user_id`__, но это опционально, 
если вы не хотите чтобы вам присылало сообщение о запуске и остановке просто не вводите в саму последнюю строку параметр admin_list, 
вот ссылка на бота для получения своего user_id в телеграм [__`@username_to_id_bot`__](https://t.me/username_to_id_bot). 
Запускайте и пробуйте. И если вы пишете своего aiogram бота, то просто вместо строки executor.start_polling(dp, skip_updates = True) 
вставте строку __`webhook_pooling(dp, token_tg, port=8080)`__ эти 3 параметра обязательны, остальное опциональны, 
не забудьте написать __`from webhook import webhook_pooling`__. 
### Если возникли или проблемы вопросы пишите [__`@simeonlimon`__](https://t.me/simeonlimon).
